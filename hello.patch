commit c6b54ceea30772c34d9ce6c761ddcba709cb3251
Author: Yusuf M <circutrider21@gmail.com>
Date:   Sat Jul 24 12:05:53 2021 -0500

    Fixed login.js
    
    Signed-off-by: Yusuf M <circutrider21@gmail.com>

diff --git a/src/api/api.js b/src/api/api.js
index 08713fa..1171111 100644
--- a/src/api/api.js
+++ b/src/api/api.js
@@ -31,6 +31,7 @@ export default {
         },
         transformResponse: [function (data) {
             const json = JSON.parse(data);
+            console.log("here!");
             return json;
         }]
     }),
diff --git a/src/components/Login.js b/src/components/Login.js
index e24d3d9..c2bd0cc 100644
--- a/src/components/Login.js
+++ b/src/components/Login.js
@@ -5,7 +5,6 @@ import UseToken from './UseToken';
 import api from '../api/api';
 import UserApi from '../api/UserApi';
 
-
 function Login({ setToken }) {
     const [failureMessage, setFailureMessage] = useState();
     const [registerFailureMessage, setRegisterFailureMessage] = useState();
@@ -39,7 +38,7 @@ function Login({ setToken }) {
       }
   }
 
-    function handleRegisterValidation(e) {
+    async function handleRegisterValidation(e) {
       let firstName = e.target[0].value;
       let lastName = e.target[1].value
       let email = e.target[2].value;
@@ -69,7 +68,7 @@ function Login({ setToken }) {
         setRegisterFailureMessage("Phone number is required");
         return false;
       } 
-      
+/*      
       if(phoneNumber){    
         var mobPattern = /^(?:(?:\\+|0{0,2})91(\s*[\\-]\s*)?|[0]?)?[789]\d{9}$/;    
         if (!mobPattern.test(phoneNumber)) {    
@@ -77,7 +76,7 @@ function Login({ setToken }) {
           return false;
         } 
       }
-        
+*/        
       if(!username){
         setRegisterFailureMessage("Username is required");
         return false;
@@ -94,9 +93,11 @@ function Login({ setToken }) {
         phone: phoneNumber,
         username: username
       };
+
         //console.log(user);
-      setResponse(api.postNewUser(user));
-      console.log(response);
+      let await_variable = await api.postNewUser(user);
+      setResponse(await_variable);
+      console.log(await_variable);
       
       return true;
     }
@@ -115,14 +116,13 @@ function Login({ setToken }) {
     }
 
     async function handleRegisterSubmit(e) {
-      let my_status = handleRegisterValidation(e);
-      console.log("reached!\n");
+      let my_status = await handleRegisterValidation(e);
       if(my_status){
         const token = "Successfully signed in";
 
         setToken(token);
         console.log(my_status);
-        // history.push("/");
+        history.push("/");
       } else {
         console.log("failed!\n");
         console.log(my_status);
